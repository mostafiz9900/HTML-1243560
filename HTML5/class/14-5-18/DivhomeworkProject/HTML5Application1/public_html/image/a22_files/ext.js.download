function init(){if(!document.addEventListener||"chrome"!==browser&&"firefox"!==browser&&"safari"!==browser)document.attachEvent?document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(addIEModal(),addLightbox(),attachLightboxListener())}):disableInlineButton();else{if(cws_url="https://chrome.google.com/webstore/detail/"+crx_config.cws_id,isMac=!0===isMacUser()?"mac":"","chrome"===browser){if(crx_extCheck(crx_config.cws_id),"2step"===inline_config.complianceType&&crx_extCheck(two_step_modal.crx2ID,!0),addCWSLinkElement(crx_config.cws_id),addInlineHTML(),inline_config.enableComplianceChrome||(inline_config.complianceType="arrow"),addCancelModalHandlers(),"undefined"!=typeof cws_btn_selector){if((e=document.getElementsByClassName(cws_btn_selector.replace(".",""))).length>0)for(t=0;t<e.length;t++)e[t].onclick=function(){return triggerInstall()};else document.querySelector(cws_btn_selector)&&(document.querySelector(cws_btn_selector).onclick=function(){return triggerInstall()})}}else if("firefox"===browser){if(window.addEventListener("load",function(){xpi_extCheck(xpi_config.xpi_alias),addInlineHTML(),attachLightboxListener(),inline_config.enableComplianceFF||(inline_config.complianceType="arrow")}),"undefined"!=typeof ff_btn_selector){var e=document.getElementsByClassName(ff_btn_selector.replace(".",""));if(e.length>0)for(var t=0;t<e.length;t++)e[t].onclick=function(){return triggerInstall()};else document.querySelector(ff_btn_selector)&&(document.querySelector(ff_btn_selector).onclick=function(){return triggerInstall()})}}else if("safari"===browser&&inline_config.safari){null!==document.querySelector("#extension-is-installed")?(el.innerHTML="Extension is already installed",el.style.background="#eee",el.style.cursor="auto",el.style.color="#222",el.setAttribute("disabled","disabled")):document.onreadystatechange=function(){if("interactive"===this.readyState||"complete"===this.readyState){var e="          <div class='safari_lb' style='display:none;position: fixed; width:100%;height:100%;top:0;left:0;background: rgba(0,0,0,0.8);font-family: Arial, Helvetica, sans-serif;'>          <div style='display: block;position: absolute;  top:50%; left:50%;width:320px;height:320px;margin-left:-160px;margin-top:-160px;border-radius: 50%; background: #0176d4;padding:50px 40px 40px 40px;box-sizing: border-box;text-align: center;color: #fff; border: 3px solid #fff;-webkit-box-shadow: 0px 2px 35px 0px rgba(0,0,0,0.75);'>          <span style='font-size: 20px;font-weight: bold; color: #FFEB3B;'>You're almost done!</span><br>          <div style='font-size: 12px; font-weight: bold;padding-top:5px;'>Open your Downloads folder and click</div>          <div style='font-size: 35px;font-weight: bolder;padding-top:10px; margin:0px;color:#CDDC39;text-shadow: 1px 1px 0px rgba(51, 105, 30, 1);'>"+inline_config.safari.safari_alias+"</div>          <span>to enable your experience</span><br>          <img src='http://searchtabnew.com/assets/inline_install/safarifolder.png' style='padding-top:20px;'>          </div>          </div>          ";document.querySelector("body").insertAdjacentHTML("beforeend",e)}}}domReady=!0,addCSS()}}function addInlineHTML(){if(addLightbox(),addArrowModal(crx_config.asset_url,browser,isMac),addCancelModal(crx_config.asset_url),"arrow"===inline_config.complianceType||"compArrow"===inline_config.complianceType||"skipArrow"===inline_config.complianceType){var e=document.getElementById("closeHelp");e&&e.addEventListener("click",function(){document.querySelector(".tr2s_arrow").style.display="none",document.getElementById("lightbox").style.display="none"})}else"modalBtn"===inline_config.complianceType?(addPartnerModal(crx_config.asset_url),attachListenerForInstallBtn(),tempHtml=document.getElementById("tr_partner_modal").innerHTML):"2step"===inline_config.complianceType&&add2stepModal()}function addCancelModalHandlers(){var e=document.querySelector(".tr2s_cancelmodal"),t=document.querySelector(".tr2s_yes"),o=document.querySelector(".tr2s_no"),n=document.getElementById("lightbox"),i=document.querySelector(".tr2s_lbContainer");t.addEventListener("click",function(t){t.preventDefault();var o=document.querySelector(".tr2s_arrow");"compArrow"===inline_config.complianceType&&(o=document.querySelector(".tr2s_compArrow")),stepOneComplete||stepTwoComplete||!inline_config.skippableFlow||"2step"!==inline_config.complianceType?(o.style.display="none",n.style.display="none",e.style.display="none","skipArrow"===inline_config.complianceType&&t.target.href&&(window.location=t.target.href)):(n.style.display="block",e.style.display="none",updateTwoStepModal("success"))}),o.addEventListener("click",function(t){t.preventDefault(),e.style.display="none","2step"!==inline_config.complianceType?triggerInstall(inline_config.complianceType):(i.style.display="block",stepOneComplete||stepTwoComplete?stepOneComplete&&!stepTwoComplete&&loadCRXInstall("https://chrome.google.com/webstore/detail/"+two_step_modal.crx2ID):loadCRXInstall())})}function attachListenerForInstallBtn(){var e=document.getElementById("tr_partner_modal");document.getElementById("lightbox-btn").addEventListener("click",function(t){"chrome"===browser?addDAFrame(crx_config.bundle_path,crx_config.bundle_code,crx_config.cws_id):"firefox"===browser&&addDAFrame(xpi_config.bundle_path,xpi_config.bundle_code),triggerInstall(null,"arrow"),e.style.display="none"}),document.getElementById("skipbtn").addEventListener("click",function(e){""!==skipURL?document.getElementById("skipbtn").setAttribute("href",skipURL):document.getElementById("skipbtn").setAttribute("href",crx_config.binary_url.toString()),document.getElementById("lightbox").style.display="none",document.getElementById("tr_partner_modal").style.display="none"})}function addCSS(){var e=document.querySelector("head"),t='.modal-btn #no-btn{background:#898989}.edgePopup{z-index:10000;display:none;position:fixed;bottom:50px;left:50%;transform:translateX(-50%)}#arrow-modal{z-index:100502;    background-image:url("http://searchtabnew.com/assets/inline_install/xpi-base.png")!important; background-repeat:no-repeat;top:0px;left:0px;}    #arrow-modal.mac{z-index:100502;    background-image:url("http://searchtabnew.com/assets/inline_install/xpi-base-mac.png")!important; background-repeat:no-repeat;top:0px;left:0px;    width:260px;height:auto;color:#000;font-family:arial;border-radius:0px}#arrow-modal,#arrow-modal img,#partner-modal{position:relative}#lightbox,#arrow-modal{display:none;position:fixed;}#lightbox{top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, .7);text-align:center;z-index:1000}.close{margin-top:-65px;margin-right:-28px;float:right;color:#fff;font-size:1.5em;text-decoration:none}#modal-top{box-sizing:content-box;background:url("'+modal_options.logo_url+'") center no-repeat;color:#5b449b;font-size:24px;font-weight:600;text-align:center;height:72px;padding-left:110px;padding-top:45px}#modal-body,#modal-body a{text-align:left;color:#8f8f8f;font-size:14px}#modal-body{margin-bottom:35px}#modal-body .lightbox-text-body{padding-left:30px;margin-top:-20px;line-height:1.4}div#copyLinkDiv a#copyLink,div#copyLinkDiv p{font-size:15px;color:#3d3d3d}div#copyLinkDiv a#copyLink{color:#1169B1;margin-top:0;display:block}div.cta-btns{display:inline-block;width:100%}div.modal-btn a{display:block;text-align:center;width:110px;padding:10px;border-radius:5px;background-color:#c7c7c7;margin:10px;float:left;text-decoration:none;font-size:18px;color:#fff}div.modal-btn a:hover{background-color:#cacaca}',o="#tr_partner_modal #copyinput #copy1{text-align:center}#tr_partner_modal #copyinput #copy1 .tr-ds a{color:#898989}#tr_partner_modal .tr-supporttext{color:#2baaff;padding-top:55px;font-weight:bold;text-align:center;font-size:18px;line-height:25px}#tr_partner_modal #extensionheader .tr-logo{padding-right:20px}#tr_partner_modal #extensionheader .tr-subtitle{font-size:13px;margin:0px;padding-left:65px;margin-top:-2px}#tr_partner_modal #extensionheader{background:#ffffff;color:#1c1f23;font-size:25px;text-align:center;padding:20px 0px 10px 0px;position:absolute;top:0px;left:0px;width:600px}#tr_partner_modal{border-radius:5px;background-color:#f1f1f1;width:600px;padding:55px 55px 10px 55px;box-sizing:border-box;position:absolute;margin:7% auto 15px -260px;box-shadow:2px 5px 3px #1D1D1D;background-position:right 0;background-repeat:repeat-y;overflow:hidden;min-height:285px;top:75px;left:50%;z-index:2000}#tr_partner_modal h1{margin-top:0;font-size:21px}#tr_partner_modal p{text-align:center;font-size:9px;color:#898989;line-height:16px}#tr_partner_modal #copyinput{display:inline-block;margin:0;margin-top:-20px}#tr_partner_modal #copy1 #label{font-size:11px;text-transform:uppercase;color:#364152;font-weight:700}#tr_partner_modal .eshield_linktext{padding:12px 15px 10px;background-image:none;background-repeat:no-repeat;background-position:10px 11px;background-color:#FCFCFC;border:1px solid #E5E5E5;display:block;float:left;font-family:monospace;font-size:13px;margin-right:5px;word-wrap:break-word;width:390px;margin-bottom:10px}#tr_partner_modal .tr_ctaBtn,#tr_partner_modal .tr_ctaBtn_skip{display:inline-block;text-decoration:none;text-align:center;background-color:#0099ff;cursor:pointer;color:#fff;font-size:18px;font-weight:bold;padding:20px 30px;border-radius:4px;margin:10px 0px;width:200px;transition:0.2s background}#tr_partner_modal .tr_ctaBtn:hover{background:#0b6daf}#tr_partner_modal .tr_ctaBtn_skip{background:none;color:#a0a0a0;font-weight:normal;font-size:13px;padding:30px 0px;margin-right:30px;padding-left:10px}#tr_partner_modal #copy2{font-size:14px;margin:0 0 20px;background-color:#EFE;padding:10px;box-sizing:border-box;color:#828282}#tr_partner_modal #browserimg{height:300px;width:auto;display:block;margin:0 auto;margin-top:-30px}#tr_partner_modal p#optional{margin:10px 0px;font-size:11px;box-sizing:border-box}".concat("#arrow-modal #closeHelp{position:absolute;color:#666;top:25px;right:15px;text-decoration:none}#arrow-modal p.ffHelp{margin-top:20px}#arrow-modal .tr-ds a{color:#898989}#arrow-modal .tr-ds{font-size:9px;color:#898989;line-height:10px;width:250px;position:absolute;bottom:15px}#arrow-modal #browserimg{position:absolute;width:300px;display:block;margin:0 auto;margin-top:-20px;left:0px}#arrow-modal .tr-title{text-align:left;font-size:13px;color:#2baaff;top:130px;font-weight:bold;line-height:18px;width:230px;position:absolute;right:20px}#arrow-modal .tr-subtitle{font-size:12px;position:absolute;right:30px;top:90px;color:#898989}#arrow-modal .tr-logo{display:block;position:absolute;right:25px;top:30px}#arrow-modal{top:315px;margin-right:-70px;right:50%;font-size:18px;padding:20px}div#arrow-modal.mac{margin-right:-225px}  div#arrow-modal.firefox.mac{top:150px;right:0;left:125px;margin-right:0}  div#arrow-modal.firefox{top:150px;left:45px;margin-left:250px;width:278px;height:146px}#arrow-modal p,#arrow-modal strong{font-size:18px;margin:0;text-align:left}#arrow-modal .bounce{top:-50px;right:6px;position:absolute}#arrow-modal.comp{width: 500px; height: 200px}","#cancel-modal p{color:#000;font-size:18px;width:95%;margin-left:12px;text-align:center}#cancel-modal{background: white;z-index: 10000000;display:none;transform:translate(-50%, -50%);position:fixed;left:50%;top:50%;height:auto;padding:20px;box-shadow:1px 2px 2px #666;width: 350px;}",t),n=document.createTextNode(o),i=document.createElement("STYLE");i.appendChild(n);var a=document.createTextNode("@-webkit-keyframes tr_arrow{0%,20%,50%,80%,100%{-webkit-transform:translateY(0)}40%{-webkit-transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px)}}@keyframes tr_arrow{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-30px)}60%{transform:translateY(-15px)}};@-webkit-keyframes tr_left_arrow{0%, 20%, 50%, 80%, 100%{-webkit-transform: translateX(0)}40%{-webkit-transform: translateX(-30px)}60%{-webkit-transform: translateX(-15px)}}@keyframes tr_left_arrow{0%, 20%, 50%, 80%, 100%{transform: translateX(0)}40%{transform: translateX(-30px)}60%{transform: translateX(-15px)}}"),r=document.createElement("STYLE");r.appendChild(a),e.appendChild(i),e.appendChild(r)}function addCancelModal(e){var t=document.querySelector("body");switch(inline_config.complianceType){case"skipArrow":r='      <div class="tr2s_cancelmodal" style="'+(o="z-index: 10000;font-family:'Open Sans',sans-serif;box-sizing:initial;display:none;width:350px;height:160px;background:#fbfbfb;border-radius:3px;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;padding:20px;text-align:center;color:black;")+'">        <p class="tr2s_st6" style="'+(n="font-size:12px;margin: 10px 0px;")+'">          Are you sure you want to cancel the installation? Installing our extension helps us improve on our product delivery and you can remove our extension at any time.</br></br>          Select Add to proceed or click Skip to get your download.        </p>        <a href="'+skipURL+'" class="tr2s_button tr2s_yes" style="'+(i="margin-top:10px;text-decoration:none;display:inline-block;width:100px;background:#0888bb;text-align:center;padding:10px 5px;color:#fff;border-radius:3px;font-weight:700")+(a="opacity:0.8;margin-right:50px;opacity:0.6;")+'" onMouseOver=this.style.background="#149dd3" onMouseOut=this.style.background="#0888bb">Skip</a>        <a href="" class="tr2s_button tr2s_no" style="'+i+'" onMouseOver=this.style.background="#149dd3" onMouseOut=this.style.background="#0888bb">Add</a>      </div>      ';break;default:var o="z-index: 10000;font-family:'Open Sans',sans-serif;box-sizing:initial;display:none;width:350px;height:135px;background:#fbfbfb;border-radius:3px;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;padding:20px;text-align:center",n="font-size:20px;margin: 10px 0px;",i="margin-top:10px;text-decoration:none;display:inline-block;width:100px;background:#0888bb;text-align:center;padding:10px 5px;color:#fff;border-radius:3px;font-weight:700",a="opacity:0.8;margin-right:50px;opacity:0.6;",r='      <div class="tr2s_cancelmodal" style="'+o+'">        <p class="tr2s_st6" style="'+n+'">          Are you sure you want to cancel the installation?        </p>        <a href="" class="tr2s_button tr2s_yes" style="'+i+a+'" onMouseOver=this.style.background="#149dd3" onMouseOut=this.style.background="#0888bb">YES</a>        <a href="" class="tr2s_button tr2s_no" style="'+i+'" onMouseOver=this.style.background="#149dd3" onMouseOut=this.style.background="#0888bb">NO</a>      </div>      '}t.insertAdjacentHTML("beforeend",r)}function addPartnerModal(e){var t=document.querySelector("body"),o='<div id="tr_partner_modal" class="dialog" style="display:none;"><div id="extensionheader"><img class="tr-logo" src="'+modal_options.logo_url+'"><p class="tr-subtitle">Web Search Optional Offer</p></div><p class="tr-supporttext">Help keep '+modal_options.partner_name+" downloads free by trying out Web Search offer by "+modal_options.partner_name+'</p><img id="browserimg" src="'+modal_options.screenshot_url+'"><div class="col">  <div id="copyinput">    <div id="copy1">      <div id="label" style="display:none;">Download Requested:</div>        <a class="eshield_linktext" style="display:none;" value="'+crx_config.binary_url+'" disabled="">'+crx_config.binary_url+'</a>         <a id="skipbtn" class="tr_ctaBtn_skip" style="width: 100px; href="#">Skip Offer</a>        <a class="eshield_btn tr_ctaBtn" id="lightbox-btn" href="#"><span>Add & Download</span></a>  <p class="tr-ds">Please read carefully: By clicking the button above and installing the Search Web Chrome extension, I accept and agree to abide by the <a href="'+modal_options.terms_of_service+'" target="_blank">Terms of Use</a> and <a href="'+modal_options.privacy_policy+'" target="_blank">Privacy Policy</a>.</p>      </div>      <div id="copy2" style="display:none;">      <strong>SearchTabNew Offer Skipped</strong><br>      URL successfully copied. Paste URL into Internet Explorer and Firefox address bar to <strong>download.</strong>      </div>    </div>  </div>  </div>';t.insertAdjacentHTML("beforeend",o)}function add2stepModal(){var e=document.querySelector("body"),t="z-index:10000;font-family:Open Sans,sans-serif;position:absolute;display:none;box-sizing:initial;margin:auto;top:0;right:0;bottom:0;left:0;width:700px;height:500px;border-radius:5px;text-align:center;padding:30px;color:#fff;background:"+two_step_modal.bgHexCode.toString()+";box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);",o="display:block;width:100%;height:160px;background:"+two_step_modal.activeBtnHexCode+";border-radius:5px;margin-bottom:30px;text-shadow:0 1px 1px rgba(0,0,0,.35);",n="display:inline-block;height:100%;color:#fff!important;float:left;width:460px;border-left:1px solid white;padding-left:15px;",i="display:inline-block;height:100%;color:#fff!important;float:left;width:150px;border-right:1px solid white;",a="display:none;position:absolute;-webkit-animation: tr_left_arrow 1.5s both infinite;animation:tr_left_arrow 1.5s both infinite;",r="chrome"===browser?"loadCRXInstall()":"ffInstall()",l='<div class="tr2s_lbContainer" style="'+t+'">  <div class="tr2s_leftArrow leftArrow1" style="'+a+';top:150px;left:-120px;" ><img src="'+crx_config.asset_url+'inline_install/green_arrow_right.png" ></div>  <div class="tr2s_leftArrow leftArrow2" style="'+a+';top:350px;left:-120px;"><img src="'+crx_config.asset_url+'inline_install/green_arrow_right.png" ></div>  <div class="tr2s_lbClose" style="display:block;position:absolute;right:5px;top:5px;width:15px;opacity:.5;cursor:pointer;"><img src="'+crx_config.asset_url+'inline_install/close_gray_round.png" style="width:auto;"></div>  <img src="'+two_step_modal.iconURL+'" style="height:100px; padding-bottom:30px">  <a onclick="return '+r+'" href="#" class="tr2s_step1 tr2s_btnSteps tr2s_active" style="'+o+'">  <div class="tr2s_blockLS" style="'+i+'">  '+two_step_modal.step1LS+'  </div>  <div class="tr2s_blockRS" style="'+n+'">  '+two_step_modal.step1RS+'  </div>  </a>  <a href="#" class="tr2s_step2 tr2s_btnSteps tr2s_disable" style="'+o+'cursor:auto!important;pointer-events:none;-webkit-filter:grayscale(100%);filter:grayscale(100%);opacity:1;">  <div class="tr2s_blockLS" style="'+i+'">  '+two_step_modal.step2LS+'  </div>  <div class="tr2s_blockRS" style="'+n+'">  '+two_step_modal.step2RS+"  </div>  </a>  </div>";e.insertAdjacentHTML("beforeend",l),document.querySelector(".tr2s_lbClose").addEventListener("click",showCancelModal)}function showCancelModal(){!stepOneComplete&&inline_config.skippableFlow?updateCancelModal(two_step_modal.cancelCopy):stepOneComplete&&inline_config.skippableFlow&&updateCancelModal("Are you sure you want to cancel the installation?");var e=document.querySelector(".tr2s_lbContainer"),t=document.querySelector(".tr2s_cancelmodal"),o=document.getElementById("lightbox");e.style.display="none",t.style.display="block",o.style.display="block"}function addArrowModal(e,t,o){var n=void 0!==o?o:"",i=document.querySelector("body"),a="";if("firefox"===t)a="<div id='arrow-modal' class='"+t+" "+n+" bounce' style='position:absolute;right:30px;-webkit-animation:tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite}@-webkit-keyframes tr_arrow{0%,20%,50%,80%,100%{-webkit-transform:translateY(0)}40%{-webkit-transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px)}}@keyframes tr_arrow{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-30px)}60%{transform:translateY(-15px)}'>",a+="<div class='inner_modal' style='padding:15px 0px 0px 100px; color:black;'>",a+="<p>Click Above</p>",a+='<p><strong>"Allow"</strong> to</p>',a+="<p>Add To "+t+"</p>",a+="<a href='#' id='closeHelp'>X</a>",a+="</div>\x3c!-- /inner_modal --\x3e",a+="</div>";else if("compArrow"===inline_config.complianceType){a='<div class="tr2s_compArrow" style="z-index:10000;font-family:\'Open Sans\',sans-serif;display:none;width:475px;height:180px;background:white;border-radius:5px;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);margin:auto;position:absolute;top:330px;right:200px;left:0;padding:20px">',a+='<div class="tr2s_animatedArrow" style="'+(r="display:block;position:absolute;top:-70px;right:50px;-webkit-animation: tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite;")+'"><img src="'+crx_config.asset_url+'inline_install/green_arrow.png" style="display:block;position:relative;-webkit-animation:tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite"></div>',a+='<div class="tr2s_compArrowBox" style="display:inline-block;width:49%;vertical-align:top">',a+='<img src="'+modal_options.screenshot_url+'" style="width:95%">',a+='<p class="tr2s_st7" style="font-size: 9px;color: #898989;line-height: 10px;width: 225px;position: absolute;bottom: 15px;">Please read carefully: By clicking the button above and installing the Search Web Chrome extension, I accept and agree to abibe by the  Terms of Use and Privacy Policy</p>',a+="</div>",a+='<div class="tr2s_compArrowBox">',a+='<img style="width: 230px;display: block;position: absolute;right: 25px;top: 30px;" src="'+modal_options.logo_url+'">',a+='<p class="tr2s_st8" style="text-align: left;font-size: 13px;color: #898989;top: 130px;font-weight: bold;line-height: 18px;width: 230px;position: absolute;right: 20px;">Add Extension above to continue downloading '+modal_options.partner_name+" and enhance your Search Web powered by Yahoo</p>",a+="</div>",a+="</div>"}else{var r="display:block;position:absolute;top:-70px;right:50px;-webkit-animation: tr_arrow 1.5s both infinite;animation:tr_arrow 1.5s both infinite;";a='<div class="tr2s_arrow" style="'+("z-index:10002;font-family:Open Sans,sans-serif;display:none;width:300px;height:auto;background:#fbfbfb;border-radius:3px;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);margin:auto;position:absolute;top:330px;right:"+("mac"===n?"-125px":"100px")+";left:0;padding:20px")+';color:black;">',a+='<div class="tr2s_animatedArrow" style="'+r+'"><img style=display:block;position:relative; src="'+crx_config.asset_url+'inline_install/green_arrow.png"></div>',a+='<p class="tr2s_st9" style=font-size:18px>Click Above<br><strong>"Add Extension"</strong><br> to Add to Chrome</p>',"skipArrow"===inline_config.complianceType&&(a+="<p>Help keep our products free. Enhance your search with our Yahoo! powered browser add-on.</p>"),a+="</div>"}i.insertAdjacentHTML("beforeend",a),"firefox"===t&&document.querySelector("#closeHelp").addEventListener("click",hideInline)}function addIEModal(){$body=document.querySelector("body");var e="<div class='edgePopup'><img src='"+crx_config.asset_url+"bouncingarrow_down.gif'/><img src='"+crx_config.asset_url+"ie_edge_cti_instructions.png'/></div>";$body.insertAdjacentHTML("beforeend",e)}function addLightbox(){document.querySelector("body").insertAdjacentHTML("beforeend","<div id='lightbox'></div>")}function attachLightboxListener(){var e=document.getElementById("lightbox");e.addEventListener?e.addEventListener("click",hideInline):e.attachEvent("onclick",hideInline)}function hideInline(){var e=document.getElementById("lightbox"),t=document.querySelector(".tr2s_arrow");if("compArrow"===inline_config.complianceType&&(t=document.querySelector(".tr2s_compArrow")),"firefox"===browser&&(t=document.querySelector("#arrow-modal")),t.style.display="none",e.style.display="none","other"===browser&&document.querySelector(".edgePopup")){document.querySelector(".edgePopup").style.display="none"}}function tr_quickInstall(){"chrome"===browser&&inline_config.enableCRXFlow?loadCRXInstall(cws_url):"firefox"===browser&&inline_config.enableXPIFlow&&ffInstall(xpi_config.xpi_location,xpi_config.xpi_hash,xpi_config.bundle_path,xpi_config.bundle_code)}function triggerInstall(e,t){if(domReady){window.scrollTo(0,0);var o=crx_config.bundle_code;if(inline_config.getBCFromBtn){void 0!==e&&null!==e&&e.href&&(initHref=e.href);var n=initHref.split("?bc=");if(n[1]){var i=n[1].indexOf("&");o=-1!==i?n[1].substring(0,i):n[1].substring(0)}}"chrome"===browser?addDAFrame(crx_config.bundle_path,o,crx_config.cws_id):"firefox"===browser&&addDAFrame(xpi_config.bundle_path,xpi_config.bundle_code);var a=document.querySelector("#extension-is-installed");if("chrome"===browser&&alreadyInstalled)duplicateCheck("2step"===inline_config.complianceType&&crx2alreadyInstalled?inline_config.dupeCheckType:inline_config.dupeCheckType);else if("firefox"!==browser&&"safari"!==browser||null===a){var r=document.getElementById("lightbox"),l=t||inline_config.complianceType;if("modalBtn"===l&&("firefox"==browser&&inline_config.enableComplianceFF||"chrome"===browser&&inline_config.enableComplianceChrome))document.getElementById("tr_partner_modal").style.display="block",r.style.display="block";else if("none"===l)if("chrome"===browser&&inline_config.enableCRXFlow)loadCRXInstall(cws_url),r.style.display="block";else{if("firefox"!==browser||!inline_config.enableXPIFlow)return;ffInstall(xpi_config.xpi_location,xpi_config.xpi_hash,xpi_config.bundle_path,xpi_config.bundle_code)}else if("arrow"===l||"skipArrow"===l)if("chrome"===browser&&inline_config.enableCRXFlow)document.querySelector(".tr2s_arrow").style.display="block",r.style.display="block",loadCRXInstall(cws_url);else if("firefox"===browser&&inline_config.enableXPIFlow)document.querySelector("#arrow-modal").style.display="block",r.style.display="block",ffInstall(xpi_config.xpi_location,xpi_config.xpi_hash,xpi_config.bundle_path,xpi_config.bundle_code);else{if("safari"!==browser||!inline_config.safari)return;safariInstall(inline_config.safari.safariextz)}else if("compArrow"===l)if("chrome"===browser&&inline_config.enableCRXFlow)document.querySelector(".tr2s_compArrow").style.display="block",r.style.display="block",loadCRXInstall(cws_url);else{if("firefox"!==browser||!inline_config.enableXPIFlow)return;document.querySelector(".tr2s_arrow").style.display="block",r.style.display="block",ffInstall(xpi_config.xpi_location,xpi_config.xpi_hash,xpi_config.bundle_path,xpi_config.bundle_code)}else if("2step"===l)if("chrome"===browser&&inline_config.enableCRXFlow)document.querySelector(".tr2s_lbContainer").style.display="block",r.style.display="block",loadCRXInstall(cws_url);else if("firefox"===browser&&inline_config.enableXPIFlow)document.querySelector(".tr2s_lbContainer").style.display="block",r.style.display="block";else{if("safari"!==browser||!inline_config.safari)return;safariInstall(inline_config.safari.safariextz)}}else duplicateCheck(inline_config.dupeCheckType);if("undefined"!=typeof cookies)for(s=0;s<cookies.length;s++)cookies[s]&&cookies[s].name&&cookies[s].querySelector&&(document.querySelector(cookies[s].querySelector)&&document.querySelector(cookies[s].querySelector).value?setCookie(cookies[s].name,document.querySelector(cookies[s].querySelector).value,15):cookies[s].defaultValue&&setCookie(cookies[s].name,cookies[s].defaultValue,15));if("undefined"!=typeof cookieQueryParameters)for(var s=0;s<cookieQueryParameters.length;s++)cookieQueryParameters[s]&&cookieQueryParameters[s].paramName&&getParameterByName(cookieQueryParameters[s].paramName)&&setCookie(cookieQueryParameters[s].cookieName,getParameterByName(cookieQueryParameters[s].paramName),15)}else tr_quickInstall();return!1}function safariInstall(e){document.querySelector(".safari_lb").style.display="block";var t=document.createElement("iframe");t.src=e,addDAFrame(inline_config.safari.bundle_path,inline_config.safari.bundle_code.toString()),document.body.appendChild(t)}function loadCRXInstall(e){var t=e||cws_url,o=document.querySelector(".tr2s_arrow");"compArrow"===inline_config.complianceType&&(o=document.querySelector(".tr2s_compArrow"));var n=document.getElementById("lightbox"),i=document.querySelector(".tr2s_cancelmodal"),a=document.getElementById("tr_partner_modal");"2step"===inline_config.complianceType&&(o.style.display="block",document.querySelector(".leftArrow1").style.display="none",document.querySelector(".leftArrow2").style.display="none",document.querySelector(".tr2s_lbContainer").style.zIndex="10");var r=t.match(/http[s]?:\/\/chrome\.google\.com\/.*\/([a-zA-Z]+)\/?$/);if(r&&r[1])var l=r[1];var s={};s["dimension"+tag_config.ga_index]="enabled";var c={};c["dimension"+tag_config.ga_index]="disabled",chrome.webstore.install(t,function(){l&&tag_config.ga_index&&ga("send","event","Download Button","clicked",l,s),o&&n&&(o.style.display="none",n.style.display="none"),"2step"!==inline_config.complianceType||stepOneComplete?"2step"===inline_config.complianceType&&stepOneComplete?(stepTwoComplete=!0,document.querySelector(".tr2s_lbContainer").style.display="none",dataLayer.push({event:"InstallSuccess2"})):dataLayer.push({event:"InstallSuccess"}):(updateTwoStepModal("success"),document.querySelector(".tr2s_lbContainer").style.zIndex="10000",dataLayer.push({event:"InstallSuccess"}))},function(e,t){l&&tag_config.ga_index&&("userCancelled"==t?ga("send","event","Download Button","clicked",l,s):"notPermitted"==t&&ga("send","event","Download Button","clicked",l,c)),console.log(t,e),"2step"===inline_config.complianceType?(o.style.display="none",document.querySelector(".tr2s_lbContainer").style.zIndex="10000",updateTwoStepModal("fail")):(o.style.display="none",a&&(a.style.display="none"),inline_config.enableCancelFlow&&"userCancelled"===t?i&&(i.style.display="block"):n&&(n.style.display="none"))})}function ffInstall(e,t,o,n,i){var a={TRXPI:{URL:e,IconURL:i||"",Hash:t,toString:function(){return this.URL}}},r=(InstallTrigger.install(a),document.querySelector(".tr2s_arrow")),l=document.getElementById("lightbox"),s=document.getElementById("tr_partner_modal");return"2step"===inline_config.complianceType&&(r.style.display="block"),r&&l&&s&&setTimeout(function(){r.style.display="none",l.style.display="none",s.style.display="none"},8e3),!1}function updateTwoStepModal(e){var t=document.querySelector(".tr2s_lbContainer"),o=document.getElementById("lightbox"),n=document.querySelector(".tr2s_arrow"),i=two_step_modal.step1LSP2,a=two_step_modal.step2LSP2,r=two_step_modal.step1RSP2,l=two_step_modal.step2RSP2;if("success"===e){if(!stepOneComplete){stepOneComplete=!0,document.querySelector(".tr2s_leftArrow.leftArrow1").style.display="none",document.querySelector(".tr2s_leftArrow.leftArrow2").style.display="block",document.querySelector(".tr2s_blockLS").innerHTML=i,document.querySelector(".tr2s_step2 .tr2s_blockLS").innerHTML=a,document.querySelector(".tr2s_blockRS").innerHTML=r,document.querySelector(".tr2s_step2 .tr2s_blockRS").innerHTML=l;var s=document.querySelector(".tr2s_step1"),c=document.querySelector(".tr2s_step2");return s.style.pointerEvents="none",s.style.filter="grayscale(100%)",s.style.opacity=.8,c.style.pointerEvents="auto",c.style.background=two_step_modal.activeBtnHexCode,c.style.filter="none",c.addEventListener("click",function(e){e.preventDefault(),addCWSLinkElement(two_step_modal.crx2ID),crx2alreadyInstalled?duplicateCheck("openNewtab"):(document.querySelector(".tr2s_leftArrow.leftArrow2").style.display="none",n.style.display="block",loadCRXInstall("https://chrome.google.com/webstore/detail/"+two_step_modal.crx2ID),addDAFrame(two_step_modal.crx2BP,two_step_modal.crx2BC,two_step_modal.crx2ID))}),o.style.display="block",t.style.display="block",!1}}else"fail"===e&&(stepOneComplete?showCancelModal():(n.style.display="none",document.querySelector(".tr2s_leftArrow.leftArrow1").style.display="block"))}function updateCancelModal(e){document.querySelector(".tr2s_st6").innerHTML=e}function getBrowser(){var e=window.navigator.userAgent||"";return e.indexOf("Chrome")>-1?-1==e.indexOf("Edge")?"chrome":"other":e.indexOf("Firefox")>-1?"firefox":e.indexOf("MSIE 8.0")>-1?"ie8":e.indexOf("Safari")>-1?"safari":"other"}function isMacUser(){return-1!=(window.navigator.userAgent||"").indexOf("Macintosh")}function addCWSLinkElement(e){var t="<link rel='chrome-webstore-item' href='"+("https://chrome.google.com/webstore/detail/"+e)+"'>";document.querySelector("head").insertAdjacentHTML("beforeend",t)}function addDAFrame(e,t,o){var n=e+t.toString()+(""===crx_config.binary_url||"#"===crx_config.binary_url?"":"&ProductBinaryUrl="+encodeURIComponent(crx_config.binary_url.toString()))+(""===thankYouURL||"#"===thankYouURL?"":"&ThankYouUrl="+encodeURIComponent(thankYouURL.toString()))+(""===adTagVars.tr_campaign?"":"&c="+adTagVars.tr_campaign)+(""===domainURL?"":"&brand="+domainURL)+(""===aidURL?"":"&aid="+aidURL)+(""===adTagVars.pk_ping?"":"&pk="+adTagVars.pk_ping)+(""===adTagVars.source?"":"&s="+adTagVars.source)+(""===adTagVars.ptid?"":"&p_tid="+adTagVars.ptid);if("undefined"!=typeof pingQueryParameters)for(var i=0;i<pingQueryParameters.length;i++)pingQueryParameters[i]&&pingQueryParameters[i].paramName&&pingQueryParameters[i].pingParamName&&getParameterByName(pingQueryParameters[i].paramName)&&(n+="&"+pingQueryParameters[i].pingParamName+"="+getParameterByName(pingQueryParameters[i].paramName));loadJSON(n,function(e){if(e)for(key in e)e[key]&&setCookie(key,e[key],1)},function(e){console.log("error getting cookie json...")})}function loadJSON(e,t,o){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200===n.status?t&&t(JSON.parse(n.responseText)):o&&o(n))},n.open("GET",e,!0),n.send()}function crx_extCheck(e,t){var o=t||!1,n="chrome-extension://"+e+"/icons/16.png",i=document.createElement("img");i.setAttribute("src",n),i.setAttribute("height","1px"),i.setAttribute("width","1px"),i.setAttribute("id","extension-check"),i.addEventListener("load",function(){alreadyInstalled=!0,o&&(crx2alreadyInstalled=!0),"2step"!==inline_config.complianceType||stepOneComplete?"2step"===inline_config.complianceType&&stepOneComplete&&duplicateCheck("openNewtab"):updateTwoStepModal("success")}),i.addEventListener("error",function(){alreadyInstalled=!1,o&&(crx2alreadyInstalled=!1)})}function disableBtn(e){e.innerHTML="Extension is already Installed",e.style.background="#eee",e.style.cursor="auto",e.style.color="#222",e.setAttribute("disabled","disabled")}function xpi_extCheck(e){var t="chrome://"+e+"/skin/icon32.png",o=document.createElement("img");o.setAttribute("src",t),o.setAttribute("height","1px"),o.setAttribute("width","1px"),o.onload=function(){alreadyInstalled=!0},o.onerror=function(){alreadyInstalled=!1}}function getParameterByName(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return null!==t?decodeURIComponent(t[1].replace(/\+/g," ")):""}function mergeExtObjects(e,t,o,n,i){e.config&&e.config.complianceType&&(i.complianceType=e.config.complianceType),e.crx_1&&(e.crx_1.cws_id&&(t.cws_id=e.crx_1.cws_id),e.crx_1.bundle_path&&(t.bundle_path=e.crx_1.bundle_path),e.crx_1.bundle_code&&(t.bundle_code=e.crx_1.bundle_code)),e.crx_2&&(e.crx_2.cws_id&&(n.crx2ID=e.crx_2.cws_id),e.crx_2.bundle_path&&(n.crx2BP=e.crx_2.bundle_path),e.crx_2.bundle_code&&(n.crx2BC=e.crx_2.bundle_code)),e.xpi&&(e.xpi.xpi_location&&(o.xpi_location=e.xpi.xpi_location),e.xpi.bundle_path&&(o.bundle_path=e.xpi.bundle_path),e.xpi.bundle_code&&(o.bundle_code=e.xpi.bundle_code))}function duplicateCheck(e){switch(e){case"openNewtab":if("chrome"===browser){var t=new Event("openNewTab",{bubbles:!0,cancelable:!1});document.dispatchEvent(t)}else window.postMessage("openNewTab","*");break;case"serveBin":"#"===crx_config.binary_url?window.location.href=initHref:"#"!==crx_config.binary_url&&(window.location.href=crx_config.binary_url)}}function selectCWSID(e){var t=e,o=t.length;if(o<2&&void 0!==t[0])return t[0];var n=Math.floor(Math.random()*o);return void 0!==t[n]?t[n]:void 0}function setCookie(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function getAdtagVar(e,t,o){void 0===window[e]||""===window[e]?adTagVars[t]=o:adTagVars[t]=window[e]}function disableInlineButton(){[].slice.call(document.querySelectorAll(".smartdl")).forEach(function(e,t){e.innerHTML="Available on Chrome and Firefox",e.style.background="#eee",e.style.cursor="auto",e.style.color="#222",e.setAttribute("disabled","disabled")})}var browser=getBrowser(),inline_config={enableCRXFlow:tag_config.config.enableCRXFlow,enableXPIFlow:tag_config.config.enableXPIFlow,skippableFlow:!1,complianceType:tag_config.config.complianceType,dupeCheckType:tag_config.config.dupeCheckType,getBCFromBtn:!1,enableComplianceFF:!1,enableComplianceChrome:!0,enableCancelFlow:!0,shared:{bundle_path:"",bundle_code:"",download_url:"",ty_url:"",skip_url:""},crx:{cws_ids:tag_config.crx_1.cws_ids,cws_bundle_code:tag_config.crx_1.bundle_code,cws_bundle_path:tag_config.crx_1.bundle_path},xpi:{xpi_alias:tag_config.xpi.alias,xpi_location:tag_config.xpi.xpi_location,xpi_hash:tag_config.xpi.xpi_hash,ff_bundle_code:tag_config.xpi.bundle_code,ff_bundle_path:tag_config.xpi.bundle_path},modal:{partner_name:tag_config.assets.partner_name,logo_url:tag_config.assets.logo_url,screenshot_url:tag_config.assets.screenshot_url,privacy_policy:tag_config.assets.privacy_policy,terms_of_service:tag_config.assets.terms_of_service},tracking:{tracking_domain:"",tracking_aid:""}};tag_config.safari&&(inline_config.safari={safariextz:tag_config.safari.safariextz,safari_alias:tag_config.safari.safari_alias,bundle_code:tag_config.safari.bundle_code,bundle_path:tag_config.safari.bundle_path});var adTagVars={productDLURL:"",tr_bundle_path:"",tr_bundle_code:"",tr_tyurl:"",tr_campaign:"",tr_brand:"",aid_ping:"",pk_ping:"",skip_url:""};getAdtagVar("tr_download_url","productDLURL",""),getAdtagVar("tr_b_path","tr_bundle_path",""),getAdtagVar("tr_b_code","tr_bundle_code",""),getAdtagVar("tr_ty_url","tr_tyurl",""),getAdtagVar("tr_c","tr_campaign",""),getAdtagVar("tr_d","tr_brand",""),getAdtagVar("tr_aid","aid_ping",""),getAdtagVar("tr_pk","pk_ping",""),getAdtagVar("tr_skip_url","skip_url",""),void 0!==window.tr_source?getAdtagVar("tr_source","source",""):getAdtagVar("tr_s","source",""),getAdtagVar("tr_ptid","ptid","");var selectBundlePath=adTagVars.tr_bundle_path.length>0?adTagVars.tr_bundle_path:inline_config.shared.bundle_path,selectBundleCode=adTagVars.tr_bundle_code.length>0?adTagVars.tr_bundle_code:inline_config.shared.bundle_code,cwsBundlePath=inline_config.crx.cws_bundle_path.length>0?inline_config.crx.cws_bundle_path:selectBundlePath,cwsBundleCode=inline_config.crx.cws_bundle_code.length>0?inline_config.crx.cws_bundle_code:selectBundleCode,ffBundlePath=inline_config.xpi.ff_bundle_path.length>0?inline_config.xpi.ff_bundle_path:selectBundlePath,ffBundleCode=inline_config.xpi.ff_bundle_code.length>0?inline_config.xpi.ff_bundle_code:selectBundlePath,binaryURL=adTagVars.productDLURL.length>0?adTagVars.productDLURL:inline_config.shared.download_url,thankYouURL=adTagVars.tr_tyurl.length>0?adTagVars.tr_tyurl:inline_config.shared.ty_url,skipURL=adTagVars.skip_url.length>0?adTagVars.skip_url:binaryURL,domainURL=adTagVars.tr_brand.length>0?adTagVars.tr_brand:inline_config.tracking.tracking_domain,aidURL=adTagVars.aid_ping.length>0?adTagVars.aid_ping:inline_config.tracking.tracking_aid,rotatingCWS=selectCWSID(inline_config.crx.cws_ids),crx_config={cws_id:rotatingCWS,bundle_path:cwsBundlePath,bundle_code:cwsBundleCode,binary_url:binaryURL,asset_url:tag_config.crx_1.asset_url},xpi_config={xpi_alias:inline_config.xpi.xpi_alias,xpi_location:inline_config.xpi.xpi_location,bundle_path:ffBundlePath,bundle_code:ffBundleCode,xpi_iconURL:"",xpi_hash:inline_config.xpi.xpi_hash},modal_options={partner_name:inline_config.modal.partner_name,logo_url:inline_config.modal.logo_url,screenshot_url:inline_config.modal.screenshot_url,privacy_policy:inline_config.modal.privacy_policy,terms_of_service:inline_config.modal.terms_of_service},step1LS="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 1 of 2<p>",step2LS="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 2 of 2<p>",step1RS="<p class='tr2s_st1' style='color:#fff!important;font-size:18px;font-weight:700;margin:30px auto 10px;'>Try a Faster, more Accurate Search Experience</p><p class='tr2s_st2' style='color:#fff!important;font-size:11px;line-height:12px;width:400px;padding-left:50px;'>Enhance your New Tab Page with the most intuitive, fast and accurate Search powered by Yahoo!</p><p class='tr2s_st3' style='font-size:25px;font-weight:700;margin-top:20px;color:#fff;line-height:12px;'>Click Here To Proceed to Next Step</p>",step2RS="<p class='tr2s_st4' style='font-size:40px;font-weight:700;color:#fff;padding:30px 0px 20px 0px;margin:0;'>"+tag_config.modal.top_line+"</p><p class='tr2s_st5' style='color:#fff!important;margin:0px;'>"+tag_config.modal.bottom_line+"</p>",step1LSP2="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 1 of 2<p>",step2LSP2="<p style='color:#fff!important;font-size:20px;font-weight:700;padding-top:55px;'>Step 2 of 2<p>",step1RSP2="<p class='tr2s_st1' style='color:#fff!important;font-size:18px;font-weight:700;margin:30px auto 10px;'>Try a Faster, more Accurate Search Experience</p><p class='tr2s_st2' style='color:#fff!important;font-size:11px;margin-bottom:10px;margin-top:-5px;line-height:12px;width:350px;margin:0 auto;'>Enhance your New Tab Page with the most intuitive, fast and accurate Search powered by Yahoo!</p><p class='tr2s_st3' style='font-size:25px;font-weight:700;margin-top:20px;color:#fff;line-height:12px;'></p>",step2RSP2="<p class='tr2s_st4' style='font-size:40px;font-weight:700;color:#fff;padding:30px 0px 20px 0px;margin:0;'>"+tag_config.modal.top_line+"</p><p class='tr2s_st5' style='color:#fff!important;margin:0px;'>"+tag_config.modal.bottom_line+"</p>",two_step_modal={crx2ID:tag_config.crx_2.cws_id,crx2BP:tag_config.crx_2.bundle_path,crx2BC:tag_config.crx_2.bundle_code,iconURL:tag_config.crx_1.asset_url+tag_config.crx_2.iconURL,bgHexCode:tag_config.crx_2.bgHexCode,activeBtnHexCode:tag_config.crx_2.activeBtnHexCode,cancelCopy:"You sure you want to skip installing Search?",step1LS:step1LS,step2LS:step2LS,step1RS:step1RS,step2RS:step2RS,step1LSP2:step1LSP2,step2LSP2:step2LSP2,step1RSP2:step1RSP2,step2RSP2:step2RSP2};if("undefined"!=typeof variations)for(var i=0;i<variations.length;i++)getParameterByName(variations[i].paramName)==variations[i].paramValue&&mergeExtObjects(variations[i],crx_config,xpi_config,two_step_modal,inline_config);var cws_url,tempHtml="",isMac="",initHref="",alreadyInstalled=!1,domReady=!1,stepOneComplete=!1,stepTwoComplete=!1,crx2alreadyInstalled=!1;"complete"===document.readyState||"interactive"===document.readyState?init():document.addEventListener("DOMContentLoaded",function(){init()},!1);
